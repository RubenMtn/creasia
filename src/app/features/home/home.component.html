<section class="hero">
  <div class="media-wrap" [style.aspect-ratio]="videoAR">
    <video
      #vid
      class="layer video"
      src="assets/video/facev.mp4"
      autoplay
      muted
      playsinline
      preload="auto"
      (loadedmetadata)="onMeta(vid)"
      (ended)="startFade(vid)"
      (transitionend)="onFadeEnd($event)"
      [class.fade-out]="fading">
    </video>

    <img
      class="layer image"
      src="assets/images/facedok.png"
      alt="Ilustración"
      [class.visible]="showImage">
  </div>

  <!-- Enlaces: aparecen SOLO al terminar el fade del vídeo -->
  @if (showLinks) {
    <nav class="link-layer">
      <!-- Orden aleatorio + delay escalonado desde TS -->
      @for (item of displayLinks; track item.route; let i = $index) {
        <a class="link {{ item.cls }}"
           [routerLink]="item.route"
           [style.animationDelay.ms]="baseDelay + stagger * i">
          {{ item.label }}
        </a>
      }
    </nav>
  }
</section>

<!-- Caption: aparece cuando termina el fade del vídeo.
     Está fuera del <section> para no alterar el tamaño del hero -->
@if (showLinks) {
  <p class="caption-below">
    Una comunidad apasionada por el descubrimiento, el aprendizaje y el aporte entre culturas
  </p>
}
