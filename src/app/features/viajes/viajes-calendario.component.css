/* ============================================================
   Archivo: src/app/features/viajes/viajes-calendario.component.css
   Calendario Viajes ‚Äî Alto contraste sobre fondo NEGRO
   ------------------------------------------------------------
   üîß D√ìNDE AJUSTAR ‚Äúcasi cuadradas‚Äù:
   Cambia --cell-aspect (1 = cuadrado, 1.08 = 8% m√°s ancha).
   ============================================================ */

/* === Variables locales del componente === */
:host {
  /* Proporci√≥n ancho/alto de cada d√≠a */
  --cell-aspect: 1.08; /* ‚¨ÖÔ∏è AJUSTA AQU√ç (p.ej. 1, 1.06‚Äì1.12) */

  /* Altura m√≠nima de seguridad (por si el ancho es muy peque√±o) */
  --cell-size: clamp(44px, 19.5cqw, 54px);

  /* Separaci√≥n visual entre celdas */
  --cell-gap: 0.6rem;

  display: block;
}

/* Contenedor principal */
.cal-root {
  background: #000;
  color: #fff;
  padding: .25rem;
}

/* T√≠tulo */
.cal-title {
  font-size: 1.3rem;
  margin: 0 0 1rem;
  color: #fff;
}

/* Estados */
.cal-state,
.cal-error {
  padding: .8rem 1rem;
  border-radius: .6rem;
  border: 1px solid #2b2b2b;
  background: #0f0f0f;
  color: #fff;
}
.cal-error { border-left: 4px solid #e11d48; }

/* === Grid de meses === */
.cal-grid {
  display: grid;
  gap: 1.1rem;
  grid-template-columns: 1fr;
}
@media (min-width: 640px) {
  .cal-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (min-width: 1024px) {
  .cal-grid { grid-template-columns: repeat(3, minmax(0, 1fr)); }
}

/* Tarjeta de mes (activamos container para cqw) */
.cal-month {
  border: 1px solid #2b2b2b;
  border-radius: 12px;
  background: #000;
  box-shadow: 0 1px 6px rgba(0,0,0,.45);
  padding: .85rem;

  /* Para que 1cqw mida el ancho de la tarjeta, √∫til para --cell-size */
  container-type: inline-size;
}
.cal-month__header { margin-bottom: .55rem; }
.cal-month__title {
  margin: 0;
  font-size: 1.05rem;
  font-weight: 750;
  color: #fff;
}

/* === Tabla mensual === */
.cal-table {
  width: 100%;
  table-layout: fixed;              /* columnas iguales */
  border-collapse: separate;        /* necesario para border-spacing */
  border-spacing: var(--cell-gap) var(--cell-gap);
}
.cal-table thead th {
  font-weight: 700;
  font-size: .95rem;
  text-align: center;
  color: #e5e7eb;                   /* blanco roto */
  padding: .35rem 0;
  border-bottom: 1px solid #2b2b2b;
}
.cal-table tbody td {
  padding: 0;
  vertical-align: top;              /* evita estirones por contenido */
}

/* ---------- Estructura de cada d√≠a ----------
  <td [class.is-outside]="...">
    <div class="cell [tone-0|tone-1|tone-2|tone-3]">
      <span class="num">‚Ä¶</span>
      <span class="badge">‚Ä¶</span>
    </div>
  </td>
------------------------------------------------ */

/* Wrapper del d√≠a (div) ‚Äî aqu√≠ forzamos la proporci√≥n */
.cal-table .cell {
  position: relative;

  /* Altura m√≠nima de seguridad (si el ancho fuera muy peque√±o) */
  min-height: var(--cell-size);

  /* Truco robusto: reservamos altura con ::before seg√∫n la proporci√≥n */
  display: grid;
  place-items: center;

  border: 1px solid #333;
  border-radius: .7rem;
  overflow: hidden;

  background: #ffffff;  /* d√≠a sin inter√©s ‚Üí blanco */
  color: #111;          /* texto oscuro */
}

/* üîé DEBUG: contorno para comprobar que este CSS se aplica */
.cal-table .cell { outline: 2px dashed goldenrod; } /* ‚¨ÖÔ∏è quita esto cuando confirmes */

/* Spacer que fuerza alto = ancho / --cell-aspect */
.cal-table .cell::before {
  content: "";
  display: block;
  width: 100%;
  padding-top: calc(100% / var(--cell-aspect)); /* ‚¨ÖÔ∏è AQU√ç SE APLICA LA PROPORCI√ìN */
  grid-area: 1 / 1;
}

/* Contenido superpuesto encima del spacer */
.cal-table .cell > * {
  grid-area: 1 / 1;
}

/* Tonos por n¬∫ de interesados */
.cal-table .tone-0 { background: #ffffff !important; color: #111 !important; }
.cal-table .tone-1 { background: #fff7cc !important; color: #111 !important; }
.cal-table .tone-2 { background: #ffe466 !important; color: #111 !important; }
.cal-table .tone-3 { background: #ffd400 !important; color: #111 !important; }

/* D√≠as fuera del mes */
.cal-table .is-outside .cell {
  background: #171717 !important;
  color: #9ca3af !important;
  border-style: dashed;
}

/* Tipograf√≠a interna */
.cal-table .num {
  font-size: 1.15rem;  /* aumenta/disminuye si quieres m√°s presencia */
  line-height: 1;
  font-weight: 800;
  position: relative;
  top: 2px; /* o 0.15rem */
}
.cal-table .badge {
  position: absolute;
  right: .1rem;       /* separaci√≥n del borde derecho del numero rojo de interesados */
  /* bottom: .5rem;        cambia a top:.5rem si prefieres arriba */
  top:.05rem;    /* ‚¨Ö AJUSTA AQU√ç la posici√≥n vertical del badge . Numero rojo de interesados */
  min-width: 1.5rem;
  height: 1.5rem;
  padding: 0 .2rem;
  background: transparent !important;
  color: #e11d48 !important;   /* rojo vivo */
  font-size: 1rem;
  font-weight: 900;
  line-height: 1;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  text-shadow: 0 0 2px #fff;   /* mejora lectura sobre amarillos */
  border: 0;
  pointer-events: none;        /* no bloquea clics */
}

/* Leyenda */
.cal-legend {
  display: flex;
  gap: .95rem;
  align-items: center;
  margin-top: .9rem;
  color: #e5e7eb;
  font-size: .95rem;
}
.cal-legend .swatch {
  width: 1.15rem; height: 1.15rem;
  border-radius: .35rem;
  border: 1px solid #333;
  display: inline-block;
  margin-right: .35rem;
  vertical-align: -2px;
}
.cal-legend .tone-0 { background: #ffffff; }
.cal-legend .tone-1 { background: #fff7cc; }
.cal-legend .tone-2 { background: #ffe466; }
cal-legend .tone-3 { background: #ffd400; }

/* Accesibilidad: oculto visual pero accesible */
.sr-only {
  position: absolute !important;
  width: 1px; height: 1px;
  padding: 0; margin: -1px; overflow: hidden;
  clip: rect(0,0,0,0); white-space: nowrap; border: 0;
}
